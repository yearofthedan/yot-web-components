{"version":3,"file":"yot-button.js","sources":["../src/buttons/yot-button.ts"],"sourcesContent":["import { LitElement, html, customElement, property, css } from 'lit-element';\nimport '../indicators/yot-spinner.ts';\n\nenum STATE {\n  idle = 'idle',\n  success = 'success',\n  loading = 'loading',\n}\n\nenum SIZE {\n  small = 'small',\n  regular = 'regular',\n  large = 'large',\n}\n\nconst successIndicator = css`\n  button[data-action-state='success'] > slot[part='success'] {\n    display: inline;\n  }\n\n  slot[part='success'] > span {\n    display: block;\n    color: var(--palette-primary-light-on);\n    border-radius: 100%;\n  }\n`;\n\nconst buttonSpacing = css`\n  button {\n    box-sizing: border-box;\n    border: none;\n    border-radius: 0.25rem;\n    font-family: var(--font-family-body);\n    font-weight: var(--font-weight-500);\n    line-height: 1.5;\n  }\n\n  button[size='small'] {\n    padding: var(--inset-density-xs) var(--inset-density-m);\n    font-size: var(--font-size-xs);\n    height: var(--field-height-s);\n    width: 4rem;\n  }\n\n  button[size='regular'] {\n    padding: var(--inset-density-m) var(--inset-density-m);\n    font-size: var(--font-size-s);\n    height: var(--field-height-m);\n    width: 8rem;\n  }\n\n  button[size='large'] {\n    padding: var(--inset-density-m) var(--inset-density-l);\n    font-size: var(--font-size-l);\n    height: var(--field-height-l);\n    width: 12rem;\n  }\n\n  button:focus {\n    outline: var(--border-m) solid;\n    outline-offset: var(--inset-density-s);\n  }\n`;\n\n@customElement('yot-button')\nexport class YotButton extends LitElement {\n  static styles = css`\n    :host {\n      width: fit-content;\n      display: inline-block;\n      position: relative;\n    }\n\n    ${buttonSpacing}\n\n    button {\n      cursor: pointer;\n      background-color: var(--palette-primary);\n      color: var(--palette-primary-on);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: background 200ms;\n    }\n\n    button[data-action-state='loading'] > slot[part='loading'] {\n      display: flex;\n    }\n\n    button[disabled] {\n      background-color: var(--palette-primary-light);\n    }\n\n    button[data-action-state='idle']:hover {\n      background: var(--palette-primary-light)\n        radial-gradient(circle, transparent 1%, var(--palette-primary-light) 1%)\n        center/15000%;\n    }\n\n    button[data-action-state='idle']:active {\n      filter: brightness(80%);\n      transition: filter 100ms;\n    }\n\n    slot {\n      display: none;\n    }\n\n    button[data-action-state='idle'] > slot[part='label'] {\n      display: inline;\n    }\n\n    ${successIndicator}\n  `;\n\n  @property()\n  state: STATE = STATE.idle;\n\n  @property()\n  type = 'normal';\n\n  @property()\n  size: SIZE = SIZE.regular;\n\n  @property()\n  variant = 'primary';\n\n  __click(event: Event) {\n    if (this.type === 'submit') {\n      const form = this.closest('form');\n      event.preventDefault();\n      const fakeSubmit = document.createElement('button');\n      fakeSubmit.type = 'submit';\n      fakeSubmit.style.display = 'none';\n      form?.appendChild(fakeSubmit);\n      fakeSubmit.click();\n      fakeSubmit.remove();\n    }\n  }\n\n  render() {\n    return html`\n      <button\n        part=\"button\"\n        size=\"${this.size}\"\n        data-action-state=\"${this.state}\"\n        ?disabled=\"${this.state !== STATE.idle}\"\n        type=\"${this.type}\"\n        @click=\"${this.__click}\"\n      >\n        <slot name=\"loading\" part=\"loading\">\n          <yot-spinner></yot-spinner>\n        </slot>\n        <slot name=\"success\" part=\"success\">\n          <span>âœ”</span>\n        </slot>\n        <slot part=\"label\"> </slot>\n      </button>\n    `;\n  }\n}\n"],"names":["STATE","SIZE","successIndicator","css","buttonSpacing","YotButton","LitElement","constructor","this","idle","regular","__click","event","type","form","closest","preventDefault","fakeSubmit","document","createElement","style","display","appendChild","click","remove","render","html","size","state","__decorate","property","customElement"],"mappings":"+IAGA,IAAKA,EAMAC,GANL,SAAKD,GACHA,cACAA,oBACAA,oBAHF,CAAKA,IAAAA,OAML,SAAKC,GACHA,gBACAA,oBACAA,gBAHF,CAAKA,IAAAA,OAML,MAAMC,EAAmBC;;;;;;;;;;IAYnBC,EAAgBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAsCtB,IAAaE,EAAb,cAA+BC,EAA/BC,kCAmDEC,WAAeR,EAAMS,KAGrBD,UAAO,SAGPA,UAAaP,EAAKS,QAGlBF,aAAU,UAEVG,QAAQC,GACN,GAAkB,WAAdJ,KAAKK,KAAmB,CAC1B,MAAMC,EAAON,KAAKO,QAAQ,QAC1BH,EAAMI,iBACN,MAAMC,EAAaC,SAASC,cAAc,UAC1CF,EAAWJ,KAAO,SAClBI,EAAWG,MAAMC,QAAU,OAC3BP,MAAAA,GAAAA,EAAMQ,YAAYL,GAClBA,EAAWM,QACXN,EAAWO,UAIfC,SACE,OAAOC;;;gBAAP;6BAAA;qBAAA;gBAAA;kBAAA;;;;;;;;;;OAGYlB,KAAKmB,KACQnB,KAAKoB,MACbpB,KAAKoB,QAAU5B,EAAMS,KAC1BD,KAAKK,KACHL,KAAKG,WAlFdN,SAASF;;;;;;;MAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAA;KAOHC,EAuCAF,GAIJ2B,GADCC,iCAIDD,GADCC,gCAIDD,GADCC,gCAIDD,GADCC,mCA3DUzB,KADZ0B,EAAc,eACF1B"}