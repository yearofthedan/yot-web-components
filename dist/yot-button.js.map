{"version":3,"file":"yot-button.js","sources":["../src/buttons/yot-button.ts"],"sourcesContent":["import { LitElement, html, customElement, property, css } from 'lit-element';\n\nenum STATE {\n  idle = 'idle',\n  success = 'success',\n  loading = 'loading',\n}\n\nconst rotateKeyframe = css`\n  @keyframes rotate {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nconst buttonTypeface = css`\n  button {\n    font-family: var(--font-family-body);\n    font-size: var(--font-size-small);\n    font-weight: var(--font-weight-500);\n    line-height: 1.5;\n  }\n\n  button[yot-size='small'] {\n    font-size: var(--font-size-small);\n  }\n\n  button[yot-size='large'] {\n    font-size: var(--font-size-large);\n  }\n`;\n\nconst loadingSpinner = css`\n  button[data-action-state='loading'] > slot[part='loading'] {\n    display: inline;\n  }\n\n  slot[part='loading'] > span {\n    --spinner-radius: calc(0.25 * var(--field-height));\n    display: block;\n    color: var(--palette-primary-light-on);\n    width: calc(2 * var(--spinner-radius));\n    height: calc(2 * var(--spinner-radius));\n    border-top: 2px solid var(--palette-primary-light-on);\n    animation: 2s rotate linear infinite;\n    border-radius: 100%;\n  }\n`;\n\nconst successIndicator = css`\n  button[data-action-state='success'] > slot[part='success'] {\n    display: inline;\n  }\n\n  slot[part='success'] > span {\n    display: block;\n    color: var(--palette-primary-light-on);\n    border-radius: 100%;\n  }\n`;\nconst buttonSpacing = css`\n  button {\n    box-sizing: border-box;\n    padding: var(--inset-density-m) var(--inset-density-l);\n    border: none;\n    border-radius: 0.25rem;\n  }\n\n  button[yot-size~='small'] {\n    font-size: var(--font-size-small);\n  }\n\n  button[yot-size~='medium'] {\n    font-size: var(--font-size-small);\n  }\n\n  button[yot-size~='large'] {\n    font-size: var(--font-size-large);\n  }\n\n  button:focus {\n    outline: var(--border-m) solid;\n    outline-offset: var(--inset-density-s);\n  }\n`;\n\n@customElement('yot-button')\nexport class YotButton extends LitElement {\n  static styles = css`\n    :host {\n      min-width: 8rem;\n      width: fit-content;\n      display: inline-block;\n      position: relative;\n    }\n    \n    ${buttonTypeface}\n    ${buttonSpacing}\n\n    button {\n      height: var(--field-height);\n      width: 100%;\n      cursor: pointer;\n      background-color: var(--palette-primary);\n      color: var(--palette-primary-on);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: background 200ms;\n    }\n    \n    button[disabled] {\n      background-color: var(--palette-primary-light);\n    }\n\n    button[data-action-state='idle']:hover {\n      background: var(--palette-primary-light)\n        radial-gradient(circle, transparent 1%, var(--palette-primary-light) 1%)\n        center/15000%;\n    }\n\n    button[data-action-state='idle']:active {\n      filter: brightness(80%);\n      transition: filter 100ms;\n    }\n    \n    slot {\n      display: none;\n    }\n\n    button[data-action-state='idle'] > slot[part='label'] {\n      display: inline;\n    }\n\n    ${loadingSpinner}\n    ${successIndicator}\n    ${rotateKeyframe}\n  `;\n\n  @property()\n  state: STATE = STATE.idle;\n\n  @property()\n  type = 'normal';\n\n  @property()\n  variant = 'primary';\n\n  __click(event: Event) {\n    if (this.type === 'submit') {\n      const form = this.closest('form');\n      event.preventDefault();\n      const fakeSubmit = document.createElement('button');\n      fakeSubmit.type = 'submit';\n      fakeSubmit.style.display = 'none';\n      form?.appendChild(fakeSubmit);\n      fakeSubmit.click();\n      fakeSubmit.remove();\n    }\n  }\n\n  render() {\n    return html`\n      <button\n        part=\"button\"\n        data-action-state=\"${this.state}\"\n        ?disabled=\"${this.state !== STATE.idle}\"\n        type=\"${this.type}\"\n        @click=\"${this.__click}\"\n      >\n        <slot name=\"loading\" part=\"loading\">\n          <span></span>\n        </slot>\n        <slot name=\"success\" part=\"success\">\n          <span>âœ”</span>\n        </slot>\n        <slot part=\"label\">\n          My label text\n        </slot>\n      </button>\n    `;\n  }\n}\n"],"names":["STATE","rotateKeyframe","css","buttonTypeface","loadingSpinner","successIndicator","buttonSpacing","YotButton","LitElement","constructor","this","idle","__click","event","type","form","closest","preventDefault","fakeSubmit","document","createElement","style","display","appendChild","click","remove","render","html","state","__decorate","property","customElement"],"mappings":"4HAEA,IAAKA,GAAL,SAAKA,GACHA,cACAA,oBACAA,oBAHF,CAAKA,IAAAA,OAML,MAAMC,EAAiBC;;;;;;;;;IAWjBC,EAAiBD;;;;;;;;;;;;;;;IAiBjBE,EAAiBF;;;;;;;;;;;;;;;IAiBjBG,EAAmBH;;;;;;;;;;IAWnBI,EAAgBJ;;;;;;;;;;;;;;;;;;;;;;;;IA2BtB,IAAaK,EAAb,cAA+BC,EAA/BC,kCAqDEC,WAAeV,EAAMW,KAGrBD,UAAO,SAGPA,aAAU,UAEVE,QAAQC,GACN,GAAkB,WAAdH,KAAKI,KAAmB,CAC1B,MAAMC,EAAOL,KAAKM,QAAQ,QAC1BH,EAAMI,iBACN,MAAMC,EAAaC,SAASC,cAAc,UAC1CF,EAAWJ,KAAO,SAClBI,EAAWG,MAAMC,QAAU,OAC3BP,MAAAA,GAAAA,EAAMQ,YAAYL,GAClBA,EAAWM,QACXN,EAAWO,UAIfC,SACE,OAAOC;;;6BAAP;qBAAA;gBAAA;kBAAA;;;;;;;;;;;;OAGyBjB,KAAKkB,MACblB,KAAKkB,QAAU5B,EAAMW,KAC1BD,KAAKI,KACHJ,KAAKE,WAhFdL,SAASL;;;;;;;;MAAT;MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAA;MAAA;MAAA;KAQHC,EACAG,EAqCAF,EACAC,EACAJ,GAIJ4B,GADCC,iCAIDD,GADCC,gCAIDD,GADCC,mCA1DUvB,KADZwB,EAAc,eACFxB"}